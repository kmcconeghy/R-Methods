<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R-methods</title>
  <meta name="description" content="A collection of working papers covering various statistical, analytical or causal inference problems.">
  <meta name="generator" content="bookdown 0.3.16 and GitBook 2.6.7">

  <meta property="og:title" content="R-methods" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://github.com/kmcconeghy/R-Methods" />
  
  <meta property="og:description" content="A collection of working papers covering various statistical, analytical or causal inference problems." />
  <meta name="github-repo" content="/kmcconeghy/R-Methods" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R-methods" />
  
  <meta name="twitter:description" content="A collection of working papers covering various statistical, analytical or causal inference problems." />
  

<meta name="author" content="Kevin W. McConeghy">


<meta name="date" content="2017-03-31">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="index.html">
<link rel="next" href="diving-in.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-methods</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html"><i class="fa fa-check"></i><b>1</b> Heteroskedastic &amp; Cluster Robust Standard Errors</a><ul>
<li class="chapter" data-level="1.1" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#introduction"><i class="fa fa-check"></i><b>1.1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1.1" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#packages-to-use"><i class="fa fa-check"></i><b>1.1.1</b> Packages to use</a></li>
<li class="chapter" data-level="1.1.2" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#test-data"><i class="fa fa-check"></i><b>1.1.2</b> Test Data</a></li>
<li class="chapter" data-level="1.1.3" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#other-references"><i class="fa fa-check"></i><b>1.1.3</b> Other References</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#rs-calculation-of-standard-errors"><i class="fa fa-check"></i><b>1.2</b> R’s calculation of standard errors</a></li>
<li class="chapter" data-level="1.3" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#heteroskedascity"><i class="fa fa-check"></i><b>1.3</b> Heteroskedascity</a></li>
<li class="chapter" data-level="1.4" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#clustering"><i class="fa fa-check"></i><b>1.4</b> Clustering</a></li>
<li class="chapter" data-level="1.5" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#stata-comparison"><i class="fa fa-check"></i><b>1.5</b> Stata comparison</a></li>
<li class="chapter" data-level="1.6" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#cluster-robust-errors-in-r"><i class="fa fa-check"></i><b>1.6</b> Cluster robust errors in R</a></li>
<li class="chapter" data-level="1.7" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#block-bootstrapping"><i class="fa fa-check"></i><b>1.7</b> Block bootstrapping</a><ul>
<li class="chapter" data-level="1.7.1" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#bootstrap-program"><i class="fa fa-check"></i><b>1.7.1</b> Bootstrap Program</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#acknowledgements"><i class="fa fa-check"></i><b>1.8</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.9" data-path="heteroskedastic-cluster-robust-standard-errors.html"><a href="heteroskedastic-cluster-robust-standard-errors.html#bibliography"><i class="fa fa-check"></i><b>1.9</b> Bibliography</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="diving-in.html"><a href="diving-in.html"><i class="fa fa-check"></i><b>2</b> Diving In</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R-methods</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="heteroskedastic-cluster-robust-standard-errors" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Heteroskedastic &amp; Cluster Robust Standard Errors</h1>
<pre><code>## Warning: package &#39;tidyverse&#39; was built under R version 3.3.3</code></pre>
<pre><code>## Loading tidyverse: ggplot2
## Loading tidyverse: tibble
## Loading tidyverse: tidyr
## Loading tidyverse: readr
## Loading tidyverse: purrr
## Loading tidyverse: dplyr</code></pre>
<pre><code>## Warning: package &#39;readr&#39; was built under R version 3.3.3</code></pre>
<pre><code>## Conflicts with tidy packages ----------------------------------------------</code></pre>
<pre><code>## filter(): dplyr, stats
## lag():    dplyr, stats</code></pre>
<pre><code>## 
## Attaching package: &#39;Hmisc&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     combine, src, summarize</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     format.pval, round.POSIXt, trunc.POSIXt, units</code></pre>
<pre><code>## Warning: package &#39;lmtest&#39; was built under R version 3.3.3</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<pre><code>## 
## Attaching package: &#39;boot&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:survival&#39;:
## 
##     aml</code></pre>
<pre><code>## The following object is masked from &#39;package:lattice&#39;:
## 
##     melanoma</code></pre>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">1.1</span> Introduction</h2>
<p>In this chapter we are evaluating R’s capability to compute standard errors. Overall like most things, R has substantial capacity but its flexibility can be daunting. To bring this flexibility down to earth, I lay out the background, provide practical recommendations, user-written commands and benchmark to STATA.</p>
<div id="packages-to-use" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Packages to use</h3>
<pre>
 R version 3.3.2 (2016-10-31)
 Platform: x86_64-w64-mingw32/x64 (64-bit)
 Running under: Windows 10 x64 (build 14393)
 
 attached base packages:
 [1] stats     graphics  grDevices utils     datasets  base     
 
 other attached packages:
  [1] boot_1.3-18       lmtest_0.9-35     zoo_1.7-14       
  [4] sandwich_2.3-4    Scotty_0.0.0.9000 Hmisc_4.0-2      
  [7] Formula_1.2-1     survival_2.40-1   lattice_0.20-34  
 [10] dplyr_0.5.0       purrr_0.2.2       readr_1.1.0      
 [13] tidyr_0.6.1       tibble_1.2        ggplot2_2.2.1    
 [16] tidyverse_1.1.1  
 </pre>

<p>“Scotty” is my own package. “tidyverse” is Wickam et al. general suite of packages/commands to work with R. “Hmisc” is Frank Harrel’s miscellaneous commands, many of which are quite useful.</p>
<p>“sandwich”, “lmtest” and “boot” are specifically relevant to this chapter in order to compute various standard errors (SE).</p>
</div>
<div id="test-data" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Test Data</h3>
<p>The cluster data was obtained from: <a href="http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/test_data.txt" class="uri">http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/test_data.txt</a></p>
</div>
<div id="other-references" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Other References</h3>
</div>
</div>
<div id="rs-calculation-of-standard-errors" class="section level2">
<h2><span class="header-section-number">1.2</span> R’s calculation of standard errors</h2>
</div>
<div id="heteroskedascity" class="section level2">
<h2><span class="header-section-number">1.3</span> Heteroskedascity</h2>
<p><span class="citation">Angrist and Pischke (<a href="#ref-angrist2008mostly">2008</a>)</span></p>
</div>
<div id="clustering" class="section level2">
<h2><span class="header-section-number">1.4</span> Clustering</h2>
<p><span class="citation">Bertrand M (<a href="#ref-Bertrand04howmuch">2004</a>)</span></p>
</div>
<div id="stata-comparison" class="section level2">
<h2><span class="header-section-number">1.5</span> Stata comparison</h2>
<p>A full discussion of STATA programming can be seen here: <a href="http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/se_programming.htm" class="uri">http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/se_programming.htm</a> STATA blog:<a href="http://www.stata.com/support/faqs/statistics/standard-errors-and-vce-cluster-option/" class="uri">http://www.stata.com/support/faqs/statistics/standard-errors-and-vce-cluster-option/</a></p>
<p>Briefly: In Stata one can specify a variance-covariance matrix that is heteroskedastic consistent with the <em>vce(robust)</em> option in regression models.  </p>
<p>e.g. STATA example</p>
<pre><code>regress y x z, vce(robust)</code></pre>
<p>A Huber-White variance-covariance matrix can also be computed by some group with the <strong>vce(cluster <em>group</em>)</strong> option in regression models.</p>
<p>e.g. STATA example</p>
<pre><code>regress y x z, vce(cluster *group*)</code></pre>
<p>See: <a href="http://www.stata.com/support/faqs/statistics/standard-errors-and-vce-cluster-option/" class="uri">http://www.stata.com/support/faqs/statistics/standard-errors-and-vce-cluster-option/</a> ## Heteroskedastic consistent errors in R</p>
</div>
<div id="cluster-robust-errors-in-r" class="section level2">
<h2><span class="header-section-number">1.6</span> Cluster robust errors in R</h2>
</div>
<div id="block-bootstrapping" class="section level2">
<h2><span class="header-section-number">1.7</span> Block bootstrapping</h2>
<p>An alternative to computing special variance-covariance matrices is non-parametric “block” bootstrapping. To do this, you perform a bootstrapping procedure where you sample the group or “block” instead of unit observation. This has been shown to be about as consistent and unbiased as the above sandwich estimators, and may be advantgeous when the number of clusters is small.(Insert Bertrand citation).</p>
<div id="bootstrap-program" class="section level3">
<h3><span class="header-section-number">1.7.1</span> Bootstrap Program</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Boot.ATE &lt;-<span class="st"> </span>function (model, treat, <span class="dt">R =</span> <span class="dv">250</span>, <span class="dt">block =</span> <span class="st">&quot;&quot;</span>, df) 
{
  <span class="kw">require</span>(boot)
  <span class="kw">require</span>(dplyr)
  family &lt;-<span class="st"> </span>model$family
  if (block ==<span class="st"> &quot;&quot;</span>) {
    boot.mod &lt;-<span class="st"> </span>function(x, i, model, treat) {
      samp.df &lt;-<span class="st"> </span>x[i, ]
      samp.glm &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">glm</span>(model, <span class="dt">data =</span> samp.df, <span class="dt">family =</span> family))
      if (<span class="kw">inherits</span>(samp.glm, <span class="st">&quot;try-error&quot;</span>)) {
        coef &lt;-<span class="st"> </span><span class="ot">NA</span>
        ate &lt;-<span class="st"> </span><span class="ot">NA</span>
        rr &lt;-<span class="st"> </span><span class="ot">NA</span>
        <span class="kw">c</span>(coef, ate, rr)
      }
      else {
        df2 &lt;-<span class="st"> </span>samp.df
        df2[, <span class="kw">paste</span>(treat)] =<span class="st"> </span><span class="dv">1</span>
        pred1. &lt;-<span class="st"> </span><span class="kw">predict.glm</span>(samp.glm, <span class="dt">newdata =</span> df2, 
          <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        df2[, <span class="kw">paste</span>(treat)] =<span class="st"> </span><span class="dv">0</span>
        pred0. &lt;-<span class="st"> </span><span class="kw">predict.glm</span>(samp.glm, <span class="dt">newdata =</span> df2, 
          <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        coef &lt;-<span class="st"> </span>samp.glm$coefficients[<span class="kw">paste0</span>(treat)]
        ate &lt;-<span class="st"> </span><span class="kw">mean</span>(pred1.) -<span class="st"> </span><span class="kw">mean</span>(pred0.)
        rr &lt;-<span class="st"> </span><span class="kw">mean</span>(pred1.)/<span class="kw">mean</span>(pred0.)
        <span class="kw">c</span>(coef, ate, rr)
      }
    }
    boot.m &lt;-<span class="st"> </span><span class="kw">boot</span>(<span class="dt">data =</span> df, <span class="dt">statistic =</span> boot.mod, <span class="dt">R =</span> R, 
      <span class="dt">model =</span> model, <span class="dt">treat =</span> treat)
  }
  else {
    Groups =<span class="st"> </span><span class="kw">unique</span>(df[, <span class="kw">paste</span>(block)])
    boot.mod &lt;-<span class="st"> </span>function(x, i, model, treat, df, block, 
      <span class="dt">iter =</span> <span class="dv">0</span>) {
      block.df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">group =</span> x[i])
      <span class="kw">names</span>(block.df) =<span class="st"> </span>block
      samp.df &lt;-<span class="st"> </span><span class="kw">left_join</span>(block.df, df, <span class="dt">by =</span> block)
      samp.glm &lt;-<span class="st"> </span><span class="kw">try</span>(<span class="kw">glm</span>(model, <span class="dt">data =</span> samp.df, <span class="dt">family =</span> family))
      if (<span class="kw">inherits</span>(samp.glm, <span class="st">&quot;try-error&quot;</span>)) {
        coef &lt;-<span class="st"> </span><span class="ot">NA</span>
        ate &lt;-<span class="st"> </span><span class="ot">NA</span>
        rr &lt;-<span class="st"> </span><span class="ot">NA</span>
        <span class="kw">c</span>(coef, ate, rr)
      }
      else {
        df2 &lt;-<span class="st"> </span>samp.df
        df2[, <span class="kw">paste</span>(treat)] =<span class="st"> </span><span class="dv">1</span>
        pred1. &lt;-<span class="st"> </span><span class="kw">predict.glm</span>(samp.glm, <span class="dt">newdata =</span> df2, 
          <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        df2[, <span class="kw">paste</span>(treat)] =<span class="st"> </span><span class="dv">0</span>
        pred0. &lt;-<span class="st"> </span><span class="kw">predict.glm</span>(samp.glm, <span class="dt">newdata =</span> df2, 
          <span class="dt">type =</span> <span class="st">&quot;response&quot;</span>)
        coef &lt;-<span class="st"> </span>samp.glm$coefficients[<span class="kw">paste0</span>(treat)]
        ate &lt;-<span class="st"> </span><span class="kw">mean</span>(pred1.) -<span class="st"> </span><span class="kw">mean</span>(pred0.)
        rr &lt;-<span class="st"> </span><span class="kw">mean</span>(pred1.)/<span class="kw">mean</span>(pred0.)
        <span class="kw">c</span>(coef, ate, rr)
      }
    }
    boot.m &lt;-<span class="st"> </span><span class="kw">boot</span>(<span class="dt">data =</span> Groups, <span class="dt">statistic =</span> boot.mod, 
      <span class="dt">R =</span> R, <span class="dt">model =</span> model, <span class="dt">treat =</span> treat, <span class="dt">df =</span> df, <span class="dt">block =</span> block)
  }
  m1.confint &lt;-<span class="st"> </span><span class="kw">c</span>(model$coefficients[<span class="kw">paste0</span>(treat)], <span class="kw">confint</span>(model, 
    treat, <span class="dt">level =</span> <span class="fl">0.95</span>))
  coeff =<span class="st"> </span><span class="kw">boot.ci</span>(boot.m, <span class="dt">index =</span> <span class="dv">1</span>, <span class="dt">type =</span> <span class="st">&quot;perc&quot;</span>)
  coeff =<span class="st"> </span><span class="kw">c</span>(<span class="kw">median</span>(boot.m$t[, <span class="dv">1</span>]), coeff$percent[, <span class="dv">4</span>], coeff$percent[, 
    <span class="dv">5</span>])
  <span class="kw">names</span>(coeff) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Coeff.&quot;</span>, <span class="st">&quot;2.5%&quot;</span>, <span class="st">&quot;97.5%&quot;</span>)
  ate =<span class="st"> </span><span class="kw">boot.ci</span>(boot.m, <span class="dt">index =</span> <span class="dv">2</span>, <span class="dt">type =</span> <span class="st">&quot;perc&quot;</span>)
  ate =<span class="st"> </span><span class="kw">c</span>(<span class="kw">median</span>(boot.m$t[, <span class="dv">2</span>]), ate$percent[, <span class="dv">4</span>], ate$percent[, 
    <span class="dv">5</span>])
  <span class="kw">names</span>(ate) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;ATE&quot;</span>, <span class="st">&quot;2.5%&quot;</span>, <span class="st">&quot;97.5%&quot;</span>)
  rr =<span class="st"> </span><span class="kw">boot.ci</span>(boot.m, <span class="dt">index =</span> <span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;perc&quot;</span>)
  rr =<span class="st"> </span><span class="kw">c</span>(<span class="kw">median</span>(boot.m$t[, <span class="dv">3</span>]), rr$percent[, <span class="dv">4</span>], rr$percent[, 
    <span class="dv">5</span>])
  <span class="kw">names</span>(rr) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Rr&quot;</span>, <span class="st">&quot;2.5%&quot;</span>, <span class="st">&quot;97.5%&quot;</span>)
  boot.iter =<span class="st"> </span>boot.m$t
  res =<span class="st"> </span><span class="kw">list</span>(<span class="dt">level =</span> <span class="fl">0.95</span>, <span class="dt">model_ci =</span> m1.confint, <span class="dt">coeff =</span> coeff, 
    <span class="dt">ate =</span> ate, <span class="dt">rr =</span> rr, <span class="dt">boots =</span> boot.iter)
  <span class="kw">return</span>(res)
}</code></pre></div>
</div>
</div>
<div id="acknowledgements" class="section level2">
<h2><span class="header-section-number">1.8</span> Acknowledgements</h2>
<p>This chapter is heavily adapted from several StackExchange and other blog posts. See: <a href="http://www.richard-bluhm.com/clustered-ses-in-r-and-stata-2/" class="uri">http://www.richard-bluhm.com/clustered-ses-in-r-and-stata-2/</a> <a href="http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/standarderror_extra_tables.pdf" class="uri">http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/standarderror_extra_tables.pdf</a><br />
<a href="https://sites.google.com/site/waynelinchang/r-code" class="uri">https://sites.google.com/site/waynelinchang/r-code</a><br />
<a href="http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/test_data.htm" class="uri">http://www.kellogg.northwestern.edu/faculty/petersen/htm/papers/se/test_data.htm</a><br />
<a href="https://thetarzan.wordpress.com/2011/05/28/heteroskedasticity-robust-and-clustered-standard-errors-in-r/" class="uri">https://thetarzan.wordpress.com/2011/05/28/heteroskedasticity-robust-and-clustered-standard-errors-in-r/</a></p>
</div>
<div id="bibliography" class="section level2">
<h2><span class="header-section-number">1.9</span> Bibliography</h2>
<p><span class="citation">R Core Team (<a href="#ref-R-base">2016</a>)</span></p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-angrist2008mostly">
<p>Angrist, J.D., and J.S. Pischke. 2008. <em>Mostly Harmless Econometrics: An Empiricist’s Companion</em>. Princeton University Press. <a href="https://books.google.com/books?id=ztXL21Xd8v8C" class="uri">https://books.google.com/books?id=ztXL21Xd8v8C</a>.</p>
</div>
<div id="ref-Bertrand04howmuch">
<p>Bertrand M, Mullainathan S, Duflo E. 2004. “How Much Should We Trust Differences-in-Differences Estimates?” <em>QUARTERLY JOURNAL OF ECONOMICS</em>, 24975.</p>
</div>
<div id="ref-R-base">
<p>R Core Team. 2016. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="diving-in.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
